<section class="container-fluid single_job_component">
    <div class="container">
        <app-header></app-header>
    </div>
</section>
<app-search-jobs></app-search-jobs>
<section class="container-fluid single_job_container">
    <div *ngIf="!job.title" class="ui active dimmer animated fadeIn">
        <div class="ui large text loader">Loading data</div>
    </div>
    <div class="container inner">
        <div class="row wrapper">
            <div class="col-md-9 job_desc">
                <div class="job_desc_inner jblock">
                    <div class="head">
                        <div class="company_details">
                            <div class="company_details_inner">

                                <h3>{{job.title}}</h3>
                                <span class="job_category">Job Category: {{job.job_category}}, {{job.job_sub_category}}</span>
                                <span class="company_name">{{job.company_name}}</span>
                                <span class="company_location">
									<!-- <i class="city">{{job.location}}</i>,  -->
									<i class="country">{{job.residence_location}}</i>
								</span>
                                <span class="date">Posted on: {{dateHelper.getDateString(job.meta.date)}}</span>
                            </div>
                            <div class="company_logo">
                                <img *ngIf="job.imageURL" class="animated fadeIn" [src]="job.imageURL" />
                            </div>
                        </div>
                        <button class="ui button apply_now" (click)="openModal($event)">Apply Now</button>
                        <div class="clearfix"></div>
                    </div>
                    <div class="body">
                        <div class="job_desc block">
                            <h3>Job Description</h3>
                            <p [innerHTML]="job.description"></p>

                        </div>
                        <div class="qualifications block">
                            <h3>Qualifications and Skills</h3>
                            <p>{{job.title}}</p>
                        </div>

                        <div class="benifits block">
                            <h3>Benifits</h3>
                            <p>{{job.benifits}}</p>
                        </div>

                        <div class="job_details block">
                            <h3>Job Details</h3>
                            <p>
                                {{job.title}}
                            </p>
                        </div>
                    </div>
                    <div class="action_btn">
                        <div class="top">
                            <button class="ui button apply_now" (click)="openModal($event)">Apply Now</button>
                            <button class="ui button email_to_friend">Email to Friend</button>
                        </div>
                        <div class="bottom">
                            <button class="ui button fb"><i class="fa fa-facebook icon" aria-hidden="true"></i> Facebook</button>
                            <button class="ui button twitter"><i class="fa fa-twitter icon" aria-hidden="true"></i> Twitter</button>
                            <button class="ui button goolge_plus"><i class="fa fa-google-plus icon" aria-hidden="true"></i> Google Plus</button>
                        </div>
                    </div>
                </div>

                <div class="similer_jobs jblock">
                    <h3>Apply to similer jobs</h3>
                    <ul>
                        <li class="sm_jobs">
                            <div class="icon">

                            </div>
                            <div class="job_details">
                                <span class="title">Software Engineer</span>
                                <span class="company">Virtusa</span>
                                <span class="location">Colombo, Sri Lanka</span>

                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="google_adds  hidden-xs-down hidden-sm-down col-md-3">
                <div class="google_adds_inner">
                    <h3>Google Ads</h3>
                </div>
            </div>
        </div>

        <div class="ui modal longer " id="apply_job">
            <i class="close icon"></i>
            <div class="image content">
                <form *ngIf="authStore.auth" (submit)="apply()" class="ui form">
                    <div class="row">
                        <div class="col-md-12 inline_feilds">
                            <h3>Apply For This Job</h3>

                            <div class="field">
                                <label>Full Name</label>
                                <input [(ngModel)]="applyJob.auth.name" [ngModelOptions]="{standalone: true}" type="text" name="full-name" placeholder="Full Name">
                            </div>
                            <div class="field">
                                <label>Email Address</label>
                                <input [(ngModel)]="applyJob.auth.email" [ngModelOptions]="{standalone: true}" type="email" name="email-address" placeholder="Email Address">
                            </div>
                            <div class="field">
                                <label>Message (Cover Letter) :</label>
                                <textarea [(ngModel)]="applyJob.cover_letter" [ngModelOptions]="{standalone: true}"></textarea>
                            </div>

                            <div class="field">
                                <label>Online Resume</label>
                                <select [(ngModel)]="applyJob.online_resume" [ngModelOptions]="{standalone: true}">
							      	<option value="">Choose Online Resume</option>
							      	<option value="1">---</option> 
							    </select>
                            </div>
                            <div class="field">
                                <label>Video Resume</label>
                                <input [(ngModel)]="applyJob.video_resume" [ngModelOptions]="{standalone: true}" type="text" name="video-resume" placeholder="Video Resume">
                            </div>
                            <div class="field">
                                <label>Upload CV</label>
                                <div class="file_upload_wrapper">
                                    <div *ngIf="isUploading" class="ui active dimmer animated fadeIn">
                                        <div class="ui mini text loader">Uploading..</div>
                                    </div>
                                    <input (change)="upload($event)" type="file" class="file_upload_input" name="company-name" placeholder="Job Title">
                                    <div *ngIf="!isUploading" class="content">

                                        <div *ngIf="applyJob.cvURL" class="inner_content">
                                            <!-- <i class="icon fa fa-cloud-upload" aria-hidden="true"></i> -->
                                            <p>Uploaded your cv</p>
                                        </div>

                                        <div *ngIf="!applyJob.cvURL" class="inner_content">
                                            <i class="icon fa fa-cloud-upload" aria-hidden="true"></i>
                                            <p>Upload your cv. Max file upload size 5MB.</p>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="secondary_row">
                        <button class="ui ok button send_application" type="submit">Send Application</button>
                    </div>
                </form>
            </div>
        </div>

    </div>
</section>

<app-footer></app-footer>